{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nexport function useOnDraw(onDraw) {\n  _s();\n  const canvasRef = useRef(null);\n  function setCanvasRef(ref) {\n    if (!ref) return;\n    canvasRef.current = ref;\n    initMouseMoveListener();\n  }\n  function initMouseMoveListener() {\n    const mouseMoveListener = e => {\n      // const point = computePointInCanvas(e.clientX, e.clientY);\n      const point = {\n        x: e.clientX,\n        y: e.clientY\n      };\n      const ctx = canvasRef.current.getContext('2d');\n      if (onDraw) onDraw(ctx, point);\n      console.log(point);\n    };\n    window.addEventListener('mousemove', mouseMoveListener);\n  }\n\n  // so that x and y coords are relative to canvas, not entire window\n  function computePointInCanvas(clientX, clientY) {\n    if (canvasRef.current) {\n      const boundingRect = canvasRef.current.getBoundingClientRect();\n      return {\n        x: clientX - boundingRect.left,\n        y: clientY - boundingRect.top\n      };\n    } else {\n      return null;\n    }\n  }\n  return setCanvasRef;\n}\n_s(useOnDraw, \"hw7YJ5TVw+lAu0tRkzoDS8rL7/E=\");","map":{"version":3,"names":["useEffect","useRef","useOnDraw","onDraw","canvasRef","setCanvasRef","ref","current","initMouseMoveListener","mouseMoveListener","e","point","x","clientX","y","clientY","ctx","getContext","console","log","window","addEventListener","computePointInCanvas","boundingRect","getBoundingClientRect","left","top"],"sources":["/Users/anyiwang/Library/CloudStorage/OneDrive-NanyangTechnologicalUniversity/FYP/UI/react_basics/reactapp1/src/components/hooks.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nexport function useOnDraw(onDraw){\n    const canvasRef = useRef(null);\n\n    function setCanvasRef(ref){\n        if(!ref) return;\n        canvasRef.current = ref;\n        initMouseMoveListener();\n    }\n\n    function initMouseMoveListener(){\n        const mouseMoveListener = (e) =>{\n            // const point = computePointInCanvas(e.clientX, e.clientY);\n            const point = {x: e.clientX, y:e.clientY};\n            const ctx = canvasRef.current.getContext('2d');\n            if(onDraw) onDraw(ctx, point);\n            console.log(point);\n        }\n        window.addEventListener('mousemove', mouseMoveListener)\n    }\n\n    // so that x and y coords are relative to canvas, not entire window\n    function computePointInCanvas(clientX, clientY){\n        if(canvasRef.current){\n            const boundingRect = canvasRef.current.getBoundingClientRect();\n            return{\n                x: clientX - boundingRect.left,\n                y: clientY - boundingRect.top\n            }\n        } else{\n            return null;\n        }\n        \n    }\n\n    return setCanvasRef;\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,OAAO,SAASC,SAAS,CAACC,MAAM,EAAC;EAAA;EAC7B,MAAMC,SAAS,GAAGH,MAAM,CAAC,IAAI,CAAC;EAE9B,SAASI,YAAY,CAACC,GAAG,EAAC;IACtB,IAAG,CAACA,GAAG,EAAE;IACTF,SAAS,CAACG,OAAO,GAAGD,GAAG;IACvBE,qBAAqB,EAAE;EAC3B;EAEA,SAASA,qBAAqB,GAAE;IAC5B,MAAMC,iBAAiB,GAAIC,CAAC,IAAI;MAC5B;MACA,MAAMC,KAAK,GAAG;QAACC,CAAC,EAAEF,CAAC,CAACG,OAAO;QAAEC,CAAC,EAACJ,CAAC,CAACK;MAAO,CAAC;MACzC,MAAMC,GAAG,GAAGZ,SAAS,CAACG,OAAO,CAACU,UAAU,CAAC,IAAI,CAAC;MAC9C,IAAGd,MAAM,EAAEA,MAAM,CAACa,GAAG,EAAEL,KAAK,CAAC;MAC7BO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACtB,CAAC;IACDS,MAAM,CAACC,gBAAgB,CAAC,WAAW,EAAEZ,iBAAiB,CAAC;EAC3D;;EAEA;EACA,SAASa,oBAAoB,CAACT,OAAO,EAAEE,OAAO,EAAC;IAC3C,IAAGX,SAAS,CAACG,OAAO,EAAC;MACjB,MAAMgB,YAAY,GAAGnB,SAAS,CAACG,OAAO,CAACiB,qBAAqB,EAAE;MAC9D,OAAM;QACFZ,CAAC,EAAEC,OAAO,GAAGU,YAAY,CAACE,IAAI;QAC9BX,CAAC,EAAEC,OAAO,GAAGQ,YAAY,CAACG;MAC9B,CAAC;IACL,CAAC,MAAK;MACF,OAAO,IAAI;IACf;EAEJ;EAEA,OAAOrB,YAAY;AACvB;AAAC,GAnCeH,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}